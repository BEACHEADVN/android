#!/data/data/com.termux/files/usr/bin/bash

path=`su -c "find /data/app -type d -name 'com.google.ar.core*'"`

if [ -z "$path" ]
then
	echo "Google Play for AR Core không bị cài đặt."
else
	echo "Gỡ cài đặt Google Play for AR Core"
	su -c "pm uninstall com.google.ar.core"
fi

path=`su -c "find /data/app -type d -name 'com.google.android.apps.restore*'"`

if [ -z "$path" ]
then
	echo "Google App Restore không bị cài đặt."
else
	echo "Gỡ cài đặt Google App Restore"
	su -c "pm uninstall com.google.android.apps.restore"
fi

cat <<EOT > /storage/emulated/0/Download/ext/temp/app
Hoyo Lab
Hack Data
Shopee
Adaway
VCB
MoMo
Lazada
Revancify
Quick Edit
Mt Manager
Zalo Pay
SmartPack Kernel Manager
EOT

line_number=`wc -l /storage/emulated/0/Download/ext/temp/app | cut -d' ' -f1`
line_number=$((line_number+1))
echo $line_number

clear
echo "Chọn công việc:" 
count=0
while read line; do
count=$((count+1))
echo "$count: $line"
done < /storage/emulated/0/Download/ext/temp/app
echo "$line_number: Thoát"
echo "Nhập số từ 1-$line_number:"
read chon

function hoyo_lab {
	echo "•Bạn chọn Hoyo Lab"
	name="Hoyo Lab"
	package="com.mihoyo.hoyolab"
	activity="com.mihoyo.hoyolab.home.HoYoLabMainActivity"
}

function hack_data {
	echo "•Bạn chọn Hack Data"
	name="Clash Android"
	su -c "pm enable com.android.vpndialogs"
	if [[ $choose = off || $choose = of ]]
	then
		path=`su -c "find /storage/emulated/0/Download/ext/temp -type f -name 'vpndialog'"`
		if [ -z "$path" ]
		then
			echo ""
		else
			su -c "pm disable com.android.vpndialogs"
			rm -rf /storage/emulated/0/Download/ext/temp/vpndialog
		fi
	else
		echo 1 > /storage/emulated/0/Download/ext/temp/vpndialog
	fi
	package="com.github.kr328.clash"
	activity="com.github.kr328.clash.MainActivity"
	#package="com.v2ray.ang"
	#activity="com.v2ray.ang.ui.MainActivity"
}

function shopee {
	echo "•Bạn chọn Shopee"
	name="Shopee"
	package="com.shopee.vn"
	activity="com.shopee.app.ui.home.HomeActivity_"
}

function adaway {
	echo "•Bạn chọn AdAway"
	name="AdAway"
	package="org.adaway"
	activity="org.adaway.ui.home.HomeActivity"
}

function vcb {
	echo "•Bạn chọn Vietcombank"
	name="Vietcombank"
	package="com.VCB"
	activity="com.VCB.activities.home.SplashActivity"
}

function momo {
	echo "•Bạn chọn MoMo"
	name="MoMo"
	package="com.mservice.momotransfer"
	activity="vn.momo.platform.MainActivity"
}

function lazada {
	echo "•Bạn chọn Lazada"
	name="Lazada"
	package="com.lazada.android"
	activity="com.lazada.activities.EnterActivity"
}

#function G_drive {
	#echo "•Bạn chọn Google Drive"
	#package="com.google.android.apps.docs"
	#activity="com.google.android.apps.docs.drive.startup.StartupActivity"
#}

function quick_edit {
	echo "•Bạn chọn Quick Edit+"
	name="Quick Edit"
	package="com.rhmsoft.edit"
	activity="com.rhmsoft.edit.activity.MainActivity"
}

function mtm {
	echo "•Bạn chọn Mt Manager"
	name="Mt Manager"
	package="bin.mt.plus"
	#activity="bin.mt.plus.MainDarkIcon"
	activity="bin.mt.plus.Main"
}

function zalo_pay {
	echo "•Bạn chọn Zalo Pay"
	name="Zalo Pay"
	package="vn.com.vng.zalopay"
	activity="vn.com.vng.zalopay.ui.activity.SplashScreenActivity"
}

function skm {
	echo "•Bạn chọn SmartPack Kernel Manager"
	name="SmartPack Kernel Manager"
	package="com.smartpack.kernelmanager"
	activity="com.smartpack.kernelmanager.activities.StartActivity"
}

function enable {
	path=`su -c "pm path $package | sed -n '/base/s/package://p'"`
	if [ -z "$path" ]
	then
		  echo "• $name khong duoc cai dat."
	else
		su -c "pm enable $package"
	fi
}
function run {
	su -c "am start --user 0 -n $package/$activity"
}
	
function disable {
	path=`su -c "pm path $package | sed -n '/base/s/package://p'"`
	if [ -z "$path" ]
	then
		  echo "• $name khong duoc cai dat."
	else
		su -c "pm disable $package"
	fi
}

function s_exit {
	clear
	echo "• Bạn chọn thoát"
	echo "Vui lòng chọn:"
	echo "1: Thoát Scripts"
	echo "2: Thoát Termux"
	read chon
	if [ $chon = 1 ]
	then
	clear
	elif [ $chon = 2 ]
	then
	exit 0
	fi
}

function action {
	clear
	echo "• Bạn chọn $name"
	echo "Vui lòng chọn:"
	echo "1: Bật và chạy $name"
	echo "2: Tắt $name"
	read chon
	if [ $chon = 1 ]
	then
	enable
	run
	elif [ $chon = 2 ]
	then
	disable
	fi
}

if [ $chon = 1 ]
then
	hoyo_lab
	action
	ra
elif [ $chon = 2 ]
then
	hack_data
	action
	ra
elif [ $chon = 3 ]
then
	shopee
	action
	ra
elif [ $chon = 4 ]
then
	adaway
	actiob
	ra
elif [ $chon = 5 ]
then
	vcb
	action
	ra
elif [ $chon = 6 ]
then
	momo
	action
	ra
elif [ $chon = 7 ]
then
	lazada
	action
	ra
elif [ $chon = 8 ]
then
	revancify
	action
	ra
elif [ $chon = 9 ]
then
	quick_edit
	action
	ra
elif [ $chon = 10 ]
then
	mtm
	action
	ra
elif [ $chon = 11 ]
then
	zalo_pay
	action
	ra
elif [ $chon = 12 ]
then
	skm
	action
	ra
elif [ $chon = $line_number ]
then
	s_exit
elif [ $chon = on ]
then
	for i in hoyo_lab hack_data shopee adaway vcb momo lazada quick_edit mtm zalo_pay skm
	do
		$i
		enable
	done
	su -c "am start --user 0 -n org.adaway/org.adaway.ui.home.HomeActivity"
	sleep 8
	su -c "am start --user 0 -n com.android.vending/com.android.vending.AssetBrowserActivity"
	ra
elif [[ $chon = off || $chon = of ]]
then
	for i in hoyo_lab hack_data shopee adaway vcb momo lazada quick_edit mtm zalo_pay skm
	do
		$i
		disable
	done
	ra
fi